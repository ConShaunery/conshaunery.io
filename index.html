<!DOCTYPE html>
<html>
<head>
  <title>conshaunery.com</title>
  <style>
    body {
      background-color: #272323;
      color: white;
      font-family: Helvetica, Arial, sans-serif;
      font-size: 16px;
      text-align: center;
      padding: 40px 20px;
    }

    .dialogue {
      margin-top: 20px;
    }

    input[type="text"] {
      padding: 10px;
      font-size: 18px;
      width: 80%;
      max-width: 400px;
      border: 2px solid #555;
      border-radius: 5px;
      background-color: #222;
      color: white;
      text-align: center;
      margin-bottom: 10px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: purple;
      color: white;
      border: none;
      cursor: pointer;
      margin: 10px;
    }

    button:hover {
      background-color: orange;
      color: black;
    }

    .hidden {
      display: none;
    }

    #name-reaction {
      font-style: italic;
      margin-top: 10px;
    }

    #enter-line a {
      color: orange;
      font-size: 18px;
      text-decoration: underline;
    }

    #enter-line a:hover {
      color: white;
    }

    #rejection-line {
      color: crimson;
      font-size: 20px;
      font-weight: bold;
      margin-top: 20px;
    }

    #rejection-line button {
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <img src="./gifs/moon_face.gif" alt="logo" width="500">

  <!-- Step 1 -->
  <div class="dialogue" id="step1">
    <h1>"Oh... And whomest could dis be?"</h1>
    <input type="text" id="q1" placeholder="Your name?">
    <p id="name-reaction" class="hidden"></p>
    <br>
    <button onclick="nextStep(1)">Proceed</button>
  </div>

  <!-- Step 2 -->
  <div class="dialogue hidden" id="step2">
    <h1>"Hmm...Un traveller, perchance... But from where?"</h1>
    <input type="text" id="q2" placeholder="From where do you come?">
    <br>
    <button onclick="nextStep(2)">Proceed</button>
  </div>

  <!-- Step 3 -->
  <div class="dialogue hidden" id="step3">
    <h2>"Oh?....What dost thou seek in these shadowed cyberrealm? Hmm?"</h2>
    <input type="text" id="q3" placeholder='Speak! Wali...for I have spoken...'>
    <br>
    <button onclick="finalCheck()">Reveal My Destiny</button>
  </div>

  <!-- Entry line if correct -->
  <div id="enter-line" class="hidden">
    <h1>"Is that so?... Then you shallest enterz..."</h1>
    <p><a href="main.html">✨ Enter the Realm ✨</a></p>
  </div>

  <!-- Rejection line -->
  <div id="rejection-line" class="hidden">
    <p>"Fie! Your intentions feel... impure. Be gone you thot! For I...never you you...."</p>
    <button onclick="redirectToBrave()">Leave thy realm...Or return with the right answers...</button>
  </div>

  <!-- Audio Setup -->
  <audio id="bg-music" loop>
    <source src="./sounds/sunset.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- Script -->
  <script>
    function startAudio() {
      const audio = document.getElementById("bg-music");
      if (!window.audioStarted) {
        audio.play().catch(() => {}); // Silent catch for browser autoplay block
        window.audioStarted = true;
      }
    }

    function nextStep(current) {
      if (current === 1) {
        const name = document.getElementById("q1").value.trim();
        const reaction = document.getElementById("name-reaction");

        if (name.length === 0) {
          reaction.textContent = "A name must be spoken...";
          reaction.classList.remove("hidden");
          return;
        }

        reaction.textContent = `"${name}"... A name most curious...`;
        reaction.classList.remove("hidden");

        // Delay before showing next step
        setTimeout(() => {
          document.getElementById("step1").classList.add("hidden");
          document.getElementById("step2").classList.remove("hidden");
        }, 2000);
      } else {
        document.getElementById("step" + current).classList.add("hidden");
        document.getElementById("step" + (current + 1)).classList.remove("hidden");
      }

      startAudio();
    }

    function finalCheck() {
      const answer = document.getElementById("q3").value.trim().toLowerCase();
      const accepted = ["refuge", "vibez", "knownledge", "past", "truth"];

      document.getElementById("step3").classList.add("hidden");

      if (accepted.includes(answer)) {
        document.getElementById("rejection-line").classList.add("hidden");
        document.getElementById("enter-line").classList.remove("hidden");
      } else {
        document.getElementById("enter-line").classList.add("hidden");
        document.getElementById("rejection-line").classList.remove("hidden");
      }
    }

    function redirectToBrave() {
      window.location.href = "https://search.brave.com";
    }
  </script>

</body>
</html>
